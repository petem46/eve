<template>
	<div>
		<div v-if="!getNamesDone" class="container pt-md-6rem">
			<v-row>
				<h1>
					<v-progress-circular indeterminate class="mr-5"></v-progress-circular>
					{{this.message}}
				</h1>
			</v-row>
			<v-progress-linear indeterminate></v-progress-linear>
		</div>
		<div v-if="!loading && getNamesDone" class="mx-5 pt-md-6rem">
			<v-row>
				<h1>
					LATEST DATA
					<v-btn @click="getAliianceNames()" class="ml-3">
						<v-icon class="mr-3 grey--text lighten-1">fa fa-sync</v-icon>
						{{alliance_message}}
					</v-btn>
					<v-btn @click="saveAllianceData()" class="ml-3">
						<v-icon class="mr-3 grey--text lighten-1">fa fa-save</v-icon>
						{{saving_alliances_message}}
					</v-btn>
				</h1>
			</v-row>
			<v-data-table
				v-if="getNamesDone"
				:headers="headers"
				:items="info"
				:loading="!getNamesDone"
				loading-text="Loading... Please wait"
				item-key="key"
				class="elevation-1"
			>
				<template v-slot:item.alliance_name="{ item }">
					{{
					item.alliance_name
					}}
				</template>
				<template v-slot:item.system_name="{ item }">
					<v-chip>
						{{
						item.system_name
						}}
					</v-chip>
				</template>
				<template v-slot:item.vulnerable_start_time="{ item }">
					<countdown
						v-if="startCounterDown(item) > 0"
						:time="startCounterDown(item)"
						auto-start
						class="red--text"
					>
						<template slot-scope="props">
							Vulnerable In: {{ props.days }} days, {{ props.hours }} hours,
							{{ props.minutes }} minutes,
							{{ props.seconds }} seconds.
						</template>
					</countdown>
					<countdown
						v-if="endCounterDown(item) > 0"
						:time="endCounterDown(item)"
						auto-start
						class="teal--text"
					>
						<template slot-scope="props">
							Vulnerable Remaining: {{ props.days }} days,
							{{ props.hours }} hours, {{ props.minutes }} minutes,
							{{ props.seconds }} seconds.
						</template>
					</countdown>
				</template>
			</v-data-table>
		</div>
		<v-dialog v-model="saving" persistent max-width="290">
			<v-card class="top-border--teal text-center">
				<v-card-title class="headline">Please wait while the database is updated</v-card-title>
				<v-progress-circular indeterminate color="teal" size="70" width="7" class="my-3"></v-progress-circular>
				<v-card-text>
					We are saving the latest data from ESI to our database. Please be
					patient.
				</v-card-text>
			</v-card>
		</v-dialog>
	</div>
</template>
<script>
import Axios from "axios";
import moment from "moment";
// import VueFilterDateFormat from "@vuejs-community/vue-filter-date-format";
// import VueFilterDateParse from "@vuejs-community/vue-filter-date-parse";
export default {
	data() {
		return {
			loading: true,
			message: "Loading...",
			alliance_message: "Waiting...",
			saving_alliances_message: "Ready...",
			getNamesDone: false,
			saving: false,
			info: [],
			info_length: 0,
			response: null,
			alliance_data: [],
			alliance_data_length: 0,
			system_data: [],
			system_data_length: 0,
			alliance_response: null,
			systems_response: null,
			headers: [
				{ text: "alliance_name", value: "alliance_name" },
				{ text: "system_name", value: "system_name" },
				{ text: "structure__id", value: "structure_id" },
				{ text: "structure_type_name", value: "structure_type_name" },
				{
					text: "vulnerability_occupancy_level",
					value: "vulnerability_occupancy_level"
				},
				{ text: "vulnerable_start_time", value: "vulnerable_start_time" },
				{ text: "vulnerable_end_time", value: "vulnerable_end_time" }
			],
			alliance_fetch: [],
			all_alliance_ids: [
				99000006,
				99000008,
				99000025,
				99000026,
				99000036,
				99000050,
				99000054,
				99000063,
				99000065,
				99000068,
				99000069,
				99000083,
				99000102,
				99000103,
				99000106,
				99000110,
				99000112,
				99000116,
				99000120,
				99000129,
				99000130,
				99000136,
				99000137,
				99000138,
				99000140,
				99000148,
				99000152,
				99000153,
				99000156,
				99000163,
				99000166,
				99000174,
				99000180,
				99000182,
				99000192,
				99000200,
				99000203,
				99000205,
				99000210,
				99000211,
				99000223,
				99000224,
				99000230,
				99000231,
				99000236,
				99000239,
				99000253,
				99000264,
				99000267,
				99000276,
				99000277,
				99000281,
				99000282,
				99000285,
				99000289,
				99000293,
				99000295,
				99000308,
				99000314,
				99000316,
				99000326,
				99000343,
				99000344,
				99000353,
				99000355,
				99000385,
				99000397,
				99000403,
				99000405,
				99000409,
				99000410,
				99000412,
				99000419,
				99000423,
				99000425,
				99000429,
				99000433,
				99000448,
				99000456,
				99000457,
				99000459,
				99000466,
				99000469,
				99000476,
				99000477,
				99000481,
				99000483,
				99000484,
				99000485,
				99000489,
				99000498,
				99000503,
				99000510,
				99000519,
				99000522,
				99000526,
				99000531,
				99000540,
				99000552,
				99000553,
				99000561,
				99000580,
				99000586,
				99000593,
				99000597,
				99000598,
				99000604,
				99000608,
				99000609,
				99000610,
				99000617,
				99000619,
				99000620,
				99000631,
				99000637,
				99000645,
				99000652,
				99000661,
				99000693,
				99000714,
				99000724,
				99000726,
				99000733,
				99000739,
				99000748,
				99000749,
				99000756,
				99000763,
				99000765,
				99000767,
				99000770,
				99000796,
				99000807,
				99000812,
				99000813,
				99000814,
				99000818,
				99000819,
				99000824,
				99000827,
				99000828,
				99000833,
				99000846,
				99000850,
				99000852,
				99000854,
				99000866,
				99000873,
				99000875,
				99000883,
				99000888,
				99000899,
				99000906,
				99000914,
				99000920,
				99000921,
				99000931,
				99000934,
				99000954,
				99000962,
				99000967,
				99000973,
				99000977,
				99000987,
				99000996,
				99001005,
				99001010,
				99001011,
				99001021,
				99001052,
				99001069,
				99001072,
				99001077,
				99001079,
				99001081,
				99001082,
				99001083,
				99001093,
				99001099,
				99001105,
				99001109,
				99001111,
				99001115,
				99001116,
				99001123,
				99001127,
				99001134,
				99001137,
				99001139,
				99001141,
				99001146,
				99001152,
				99001154,
				99001158,
				99001159,
				99001175,
				99001178,
				99001182,
				99001184,
				99001188,
				99001193,
				99001200,
				99001201,
				99001202,
				99001203,
				99001207,
				99001208,
				99001215,
				99001242,
				99001243,
				99001244,
				99001252,
				99001255,
				99001258,
				99001260,
				99001267,
				99001276,
				99001278,
				99001287,
				99001288,
				99001306,
				99001317,
				99001320,
				99001323,
				99001327,
				99001331,
				99001333,
				99001338,
				99001345,
				99001349,
				99001375,
				99001376,
				99001382,
				99001383,
				99001391,
				99001392,
				99001401,
				99001407,
				99001410,
				99001417,
				99001426,
				99001434,
				99001453,
				99001454,
				99001460,
				99001465,
				99001485,
				99001503,
				99001504,
				99001510,
				99001517,
				99001523,
				99001538,
				99001539,
				99001542,
				99001552,
				99001564,
				99001568,
				99001590,
				99001600,
				99001605,
				99001610,
				99001612,
				99001618,
				99001619,
				99001620,
				99001621,
				99001625,
				99001626,
				99001634,
				99001635,
				99001638,
				99001641,
				99001644,
				99001648,
				99001651,
				99001654,
				99001657,
				99001662,
				99001666,
				99001671,
				99001677,
				99001679,
				99001685,
				99001694,
				99001697,
				99001701,
				99001709,
				99001716,
				99001723,
				99001729,
				99001730,
				99001742,
				99001744,
				99001747,
				99001760,
				99001763,
				99001767,
				99001778,
				99001779,
				99001783,
				99001791,
				99001795,
				99001808,
				99001809,
				99001814,
				99001818,
				99001821,
				99001822,
				99001824,
				99001827,
				99001830,
				99001833,
				99001844,
				99001845,
				99001853,
				99001854,
				99001858,
				99001862,
				99001876,
				99001886,
				99001904,
				99001910,
				99001917,
				99001919,
				99001926,
				99001932,
				99001936,
				99001938,
				99001952,
				99001954,
				99001955,
				99001959,
				99001963,
				99001968,
				99001969,
				99001970,
				99001972,
				99001976,
				99001990,
				99001994,
				99002003,
				99002015,
				99002019,
				99002024,
				99002031,
				99002036,
				99002039,
				99002048,
				99002054,
				99002055,
				99002059,
				99002060,
				99002062,
				99002069,
				99002072,
				99002078,
				99002088,
				99002089,
				99002094,
				99002101,
				99002107,
				99002109,
				99002114,
				99002119,
				99002124,
				99002125,
				99002140,
				99002145,
				99002159,
				99002169,
				99002172,
				99002190,
				99002196,
				99002208,
				99002217,
				99002231,
				99002233,
				99002246,
				99002253,
				99002254,
				99002256,
				99002269,
				99002290,
				99002298,
				99002302,
				99002305,
				99002315,
				99002318,
				99002329,
				99002347,
				99002348,
				99002356,
				99002360,
				99002367,
				99002370,
				99002373,
				99002385,
				99002388,
				99002392,
				99002393,
				99002396,
				99002410,
				99002411,
				99002417,
				99002420,
				99002422,
				99002436,
				99002447,
				99002448,
				99002461,
				99002465,
				99002471,
				99002474,
				99002477,
				99002489,
				99002490,
				99002496,
				99002498,
				99002508,
				99002530,
				99002542,
				99002555,
				99002576,
				99002579,
				99002584,
				99002589,
				99002594,
				99002600,
				99002602,
				99002603,
				99002621,
				99002622,
				99002627,
				99002634,
				99002636,
				99002644,
				99002646,
				99002648,
				99002653,
				99002654,
				99002661,
				99002670,
				99002678,
				99002685,
				99002726,
				99002754,
				99002766,
				99002772,
				99002775,
				99002777,
				99002782,
				99002784,
				99002814,
				99002819,
				99002821,
				99002826,
				99002829,
				99002838,
				99002843,
				99002856,
				99002891,
				99002892,
				99002896,
				99002897,
				99002902,
				99002909,
				99002918,
				99002922,
				99002925,
				99002930,
				99002935,
				99002938,
				99002941,
				99002949,
				99002950,
				99002951,
				99002952,
				99002957,
				99002958,
				99002964,
				99002972,
				99002974,
				99003005,
				99003006,
				99003019,
				99003033,
				99003038,
				99003059,
				99003060,
				99003087,
				99003091,
				99003093,
				99003097,
				99003147,
				99003150,
				99003160,
				99003162,
				99003169,
				99003172,
				99003180,
				99003182,
				99003184,
				99003187,
				99003191,
				99003200,
				99003209,
				99003212,
				99003214,
				99003216,
				99003239,
				99003244,
				99003253,
				99003285,
				99003291,
				99003314,
				99003319,
				99003322,
				99003340,
				99003355,
				99003359,
				99003367,
				99003373,
				99003383,
				99003385,
				99003393,
				99003406,
				99003420,
				99003435,
				99003460,
				99003477,
				99003478,
				99003479,
				99003486,
				99003490,
				99003497,
				99003500,
				99003503,
				99003510,
				99003517,
				99003535,
				99003538,
				99003539,
				99003540,
				99003541,
				99003549,
				99003557,
				99003558,
				99003560,
				99003564,
				99003565,
				99003566,
				99003568,
				99003574,
				99003575,
				99003577,
				99003579,
				99003581,
				99003589,
				99003590,
				99003595,
				99003598,
				99003616,
				99003619,
				99003624,
				99003627,
				99003633,
				99003637,
				99003650,
				99003656,
				99003674,
				99003682,
				99003686,
				99003695,
				99003699,
				99003700,
				99003702,
				99003706,
				99003708,
				99003710,
				99003711,
				99003713,
				99003714,
				99003722,
				99003726,
				99003728,
				99003732,
				99003739,
				99003742,
				99003744,
				99003746,
				99003751,
				99003752,
				99003759,
				99003763,
				99003765,
				99003773,
				99003778,
				99003785,
				99003788,
				99003797,
				99003799,
				99003805,
				99003806,
				99003811,
				99003817,
				99003822,
				99003827,
				99003838,
				99003847,
				99003858,
				99003874,
				99003882,
				99003898,
				99003902,
				99003907,
				99003915,
				99003916,
				99003918,
				99003919,
				99003921,
				99003922,
				99003936,
				99003940,
				99003943,
				99003952,
				99003953,
				99003956,
				99003958,
				99003964,
				99003983,
				99003991,
				99003995,
				99004012,
				99004013,
				99004017,
				99004042,
				99004046,
				99004049,
				99004050,
				99004071,
				99004080,
				99004081,
				99004084,
				99004091,
				99004103,
				99004108,
				99004116,
				99004122,
				99004128,
				99004132,
				99004133,
				99004136,
				99004142,
				99004157,
				99004158,
				99004159,
				99004170,
				99004172,
				99004180,
				99004184,
				99004191,
				99004196,
				99004211,
				99004213,
				99004217,
				99004218,
				99004220,
				99004222,
				99004226,
				99004238,
				99004250,
				99004254,
				99004264,
				99004269,
				99004271,
				99004275,
				99004276,
				99004288,
				99004295,
				99004302,
				99004305,
				99004308,
				99004312,
				99004314,
				99004325,
				99004327,
				99004328,
				99004332,
				99004344,
				99004357,
				99004360,
				99004367,
				99004374,
				99004384,
				99004386,
				99004389,
				99004390,
				99004391,
				99004394,
				99004397,
				99004414,
				99004415,
				99004417,
				99004418,
				99004423,
				99004425,
				99004431,
				99004432,
				99004449,
				99004450,
				99004457,
				99004461,
				99004463,
				99004470,
				99004473,
				99004477,
				99004491,
				99004502,
				99004503,
				99004506,
				99004507,
				99004508,
				99004511,
				99004523,
				99004534,
				99004537,
				99004541,
				99004544,
				99004548,
				99004552,
				99004556,
				99004558,
				99004563,
				99004567,
				99004568,
				99004570,
				99004576,
				99004577,
				99004582,
				99004591,
				99004598,
				99004604,
				99004608,
				99004622,
				99004626,
				99004641,
				99004644,
				99004650,
				99004651,
				99004662,
				99004664,
				99004675,
				99004678,
				99004683,
				99004686,
				99004696,
				99004702,
				99004709,
				99004712,
				99004719,
				99004722,
				99004728,
				99004734,
				99004741,
				99004742,
				99004744,
				99004747,
				99004763,
				99004764,
				99004771,
				99004779,
				99004789,
				99004790,
				99004798,
				99004803,
				99004804,
				99004807,
				99004818,
				99004827,
				99004836,
				99004843,
				99004849,
				99004858,
				99004863,
				99004874,
				99004881,
				99004885,
				99004894,
				99004900,
				99004901,
				99004904,
				99004905,
				99004906,
				99004907,
				99004911,
				99004922,
				99004931,
				99004932,
				99004935,
				99004936,
				99004942,
				99004944,
				99004945,
				99004956,
				99004958,
				99004968,
				99004979,
				99004980,
				99005002,
				99005014,
				99005017,
				99005020,
				99005030,
				99005034,
				99005042,
				99005043,
				99005047,
				99005049,
				99005052,
				99005059,
				99005064,
				99005065,
				99005080,
				99005081,
				99005088,
				99005100,
				99005101,
				99005108,
				99005111,
				99005118,
				99005124,
				99005125,
				99005130,
				99005133,
				99005136,
				99005138,
				99005139,
				99005146,
				99005148,
				99005150,
				99005151,
				99005157,
				99005168,
				99005173,
				99005178,
				99005179,
				99005182,
				99005185,
				99005194,
				99005196,
				99005198,
				99005200,
				99005201,
				99005205,
				99005206,
				99005207,
				99005218,
				99005224,
				99005228,
				99005237,
				99005238,
				99005239,
				99005242,
				99005245,
				99005248,
				99005255,
				99005261,
				99005266,
				99005273,
				99005274,
				99005275,
				99005277,
				99005280,
				99005286,
				99005289,
				99005295,
				99005296,
				99005298,
				99005299,
				99005301,
				99005312,
				99005318,
				99005332,
				99005333,
				99005334,
				99005338,
				99005352,
				99005360,
				99005364,
				99005369,
				99005372,
				99005381,
				99005382,
				99005383,
				99005385,
				99005386,
				99005390,
				99005391,
				99005393,
				99005395,
				99005398,
				99005400,
				99005402,
				99005414,
				99005415,
				99005416,
				99005418,
				99005430,
				99005442,
				99005443,
				99005452,
				99005456,
				99005459,
				99005460,
				99005462,
				99005464,
				99005466,
				99005469,
				99005471,
				99005476,
				99005481,
				99005483,
				99005487,
				99005492,
				99005493,
				99005498,
				99005499,
				99005502,
				99005513,
				99005515,
				99005516,
				99005518,
				99005528,
				99005530,
				99005535,
				99005544,
				99005547,
				99005548,
				99005549,
				99005552,
				99005559,
				99005561,
				99005569,
				99005574,
				99005579,
				99005586,
				99005589,
				99005590,
				99005595,
				99005597,
				99005601,
				99005621,
				99005622,
				99005627,
				99005643,
				99005651,
				99005661,
				99005663,
				99005665,
				99005673,
				99005675,
				99005677,
				99005678,
				99005680,
				99005685,
				99005688,
				99005689,
				99005690,
				99005697,
				99005699,
				99005701,
				99005709,
				99005711,
				99005722,
				99005724,
				99005727,
				99005728,
				99005731,
				99005732,
				99005734,
				99005736,
				99005738,
				99005739,
				99005741,
				99005742,
				99005744,
				99005746,
				99005748,
				99005751,
				99005758,
				99005760,
				99005761,
				99005766,
				99005767,
				99005771,
				99005772,
				99005773,
				99005781,
				99005785,
				99005786,
				99005789,
				99005790,
				99005791,
				99005798,
				99005799,
				99005802,
				99005803,
				99005805,
				99005809,
				99005817,
				99005818,
				99005824,
				99005826,
				99005830,
				99005831,
				99005834,
				99005839,
				99005843,
				99005846,
				99005850,
				99005852,
				99005854,
				99005864,
				99005866,
				99005874,
				99005878,
				99005881,
				99005882,
				99005892,
				99005895,
				99005896,
				99005900,
				99005905,
				99005909,
				99005911,
				99005913,
				99005914,
				99005917,
				99005918,
				99005920,
				99005925,
				99005928,
				99005929,
				99005939,
				99005942,
				99005953,
				99005954,
				99005958,
				99005962,
				99005973,
				99005977,
				99005991,
				99006005,
				99006012,
				99006014,
				99006020,
				99006038,
				99006039,
				99006042,
				99006043,
				99006050,
				99006061,
				99006063,
				99006069,
				99006075,
				99006082,
				99006097,
				99006100,
				99006101,
				99006109,
				99006111,
				99006112,
				99006113,
				99006117,
				99006125,
				99006132,
				99006144,
				99006146,
				99006157,
				99006159,
				99006166,
				99006167,
				99006168,
				99006171,
				99006177,
				99006180,
				99006183,
				99006186,
				99006191,
				99006192,
				99006201,
				99006202,
				99006204,
				99006217,
				99006223,
				99006225,
				99006227,
				99006232,
				99006239,
				99006249,
				99006250,
				99006251,
				99006260,
				99006266,
				99006267,
				99006268,
				99006280,
				99006287,
				99006291,
				99006294,
				99006295,
				99006297,
				99006300,
				99006303,
				99006306,
				99006309,
				99006310,
				99006313,
				99006314,
				99006317,
				99006318,
				99006319,
				99006320,
				99006327,
				99006343,
				99006344,
				99006346,
				99006352,
				99006355,
				99006357,
				99006359,
				99006360,
				99006369,
				99006370,
				99006371,
				99006372,
				99006375,
				99006383,
				99006384,
				99006385,
				99006394,
				99006395,
				99006396,
				99006406,
				99006411,
				99006413,
				99006416,
				99006423,
				99006430,
				99006431,
				99006432,
				99006434,
				99006438,
				99006444,
				99006447,
				99006448,
				99006455,
				99006460,
				99006463,
				99006466,
				99006468,
				99006469,
				99006473,
				99006478,
				99006482,
				99006488,
				99006491,
				99006493,
				99006494,
				99006495,
				99006503,
				99006505,
				99006507,
				99006522,
				99006526,
				99006527,
				99006529,
				99006533,
				99006542,
				99006543,
				99006549,
				99006550,
				99006557,
				99006563,
				99006564,
				99006572,
				99006575,
				99006579,
				99006581,
				99006585,
				99006589,
				99006592,
				99006598,
				99006602,
				99006613,
				99006614,
				99006617,
				99006619,
				99006620,
				99006625,
				99006626,
				99006631,
				99006636,
				99006639,
				99006647,
				99006650,
				99006654,
				99006664,
				99006668,
				99006670,
				99006679,
				99006684,
				99006690,
				99006697,
				99006701,
				99006705,
				99006709,
				99006710,
				99006714,
				99006716,
				99006718,
				99006720,
				99006721,
				99006722,
				99006726,
				99006728,
				99006731,
				99006732,
				99006734,
				99006738,
				99006747,
				99006750,
				99006751,
				99006754,
				99006756,
				99006758,
				99006762,
				99006763,
				99006771,
				99006777,
				99006779,
				99006781,
				99006784,
				99006785,
				99006791,
				99006792,
				99006793,
				99006794,
				99006795,
				99006800,
				99006801,
				99006805,
				99006806,
				99006812,
				99006820,
				99006821,
				99006824,
				99006825,
				99006830,
				99006833,
				99006834,
				99006835,
				99006838,
				99006839,
				99006841,
				99006843,
				99006846,
				99006849,
				99006852,
				99006861,
				99006862,
				99006866,
				99006883,
				99006884,
				99006892,
				99006895,
				99006899,
				99006906,
				99006910,
				99006930,
				99006933,
				99006934,
				99006935,
				99006940,
				99006941,
				99006944,
				99006957,
				99006958,
				99006966,
				99006970,
				99006971,
				99006975,
				99006977,
				99006984,
				99006985,
				99006992,
				99007000,
				99007001,
				99007002,
				99007003,
				99007005,
				99007006,
				99007018,
				99007022,
				99007027,
				99007031,
				99007032,
				99007035,
				99007037,
				99007041,
				99007043,
				99007047,
				99007048,
				99007049,
				99007051,
				99007052,
				99007054,
				99007061,
				99007064,
				99007065,
				99007070,
				99007074,
				99007076,
				99007077,
				99007079,
				99007080,
				99007088,
				99007090,
				99007091,
				99007093,
				99007098,
				99007101,
				99007107,
				99007109,
				99007123,
				99007127,
				99007131,
				99007134,
				99007136,
				99007143,
				99007144,
				99007146,
				99007153,
				99007155,
				99007156,
				99007158,
				99007159,
				99007160,
				99007165,
				99007169,
				99007170,
				99007173,
				99007175,
				99007177,
				99007178,
				99007184,
				99007186,
				99007187,
				99007192,
				99007193,
				99007199,
				99007203,
				99007207,
				99007218,
				99007219,
				99007221,
				99007228,
				99007232,
				99007237,
				99007238,
				99007247,
				99007251,
				99007252,
				99007254,
				99007257,
				99007259,
				99007260,
				99007261,
				99007262,
				99007263,
				99007265,
				99007267,
				99007268,
				99007271,
				99007272,
				99007281,
				99007284,
				99007289,
				99007293,
				99007297,
				99007298,
				99007307,
				99007309,
				99007315,
				99007323,
				99007326,
				99007333,
				99007335,
				99007337,
				99007344,
				99007346,
				99007351,
				99007352,
				99007353,
				99007355,
				99007356,
				99007357,
				99007359,
				99007362,
				99007372,
				99007374,
				99007376,
				99007380,
				99007381,
				99007389,
				99007391,
				99007393,
				99007403,
				99007406,
				99007408,
				99007415,
				99007421,
				99007424,
				99007428,
				99007432,
				99007439,
				99007449,
				99007450,
				99007451,
				99007453,
				99007455,
				99007456,
				99007459,
				99007467,
				99007469,
				99007472,
				99007474,
				99007475,
				99007477,
				99007482,
				99007485,
				99007486,
				99007488,
				99007494,
				99007496,
				99007498,
				99007503,
				99007507,
				99007510,
				99007511,
				99007514,
				99007516,
				99007520,
				99007523,
				99007526,
				99007529,
				99007531,
				99007538,
				99007539,
				99007541,
				99007545,
				99007552,
				99007553,
				99007555,
				99007557,
				99007561,
				99007565,
				99007568,
				99007572,
				99007573,
				99007574,
				99007575,
				99007577,
				99007578,
				99007579,
				99007583,
				99007585,
				99007588,
				99007591,
				99007592,
				99007595,
				99007599,
				99007604,
				99007614,
				99007615,
				99007619,
				99007625,
				99007629,
				99007631,
				99007636,
				99007637,
				99007638,
				99007640,
				99007641,
				99007645,
				99007649,
				99007653,
				99007654,
				99007656,
				99007657,
				99007663,
				99007669,
				99007672,
				99007673,
				99007676,
				99007678,
				99007681,
				99007688,
				99007691,
				99007692,
				99007696,
				99007699,
				99007700,
				99007706,
				99007707,
				99007708,
				99007714,
				99007715,
				99007716,
				99007721,
				99007722,
				99007725,
				99007728,
				99007729,
				99007732,
				99007734,
				99007735,
				99007742,
				99007744,
				99007751,
				99007752,
				99007753,
				99007755,
				99007757,
				99007758,
				99007760,
				99007764,
				99007767,
				99007769,
				99007783,
				99007790,
				99007795,
				99007797,
				99007799,
				99007803,
				99007805,
				99007807,
				99007810,
				99007812,
				99007814,
				99007817,
				99007821,
				99007823,
				99007826,
				99007827,
				99007828,
				99007831,
				99007832,
				99007840,
				99007843,
				99007844,
				99007849,
				99007853,
				99007854,
				99007855,
				99007859,
				99007860,
				99007862,
				99007864,
				99007869,
				99007874,
				99007875,
				99007879,
				99007880,
				99007883,
				99007887,
				99007889,
				99007892,
				99007898,
				99007904,
				99007906,
				99007907,
				99007908,
				99007909,
				99007910,
				99007913,
				99007916,
				99007921,
				99007926,
				99007927,
				99007928,
				99007937,
				99007938,
				99007945,
				99007946,
				99007954,
				99007956,
				99007957,
				99007964,
				99007966,
				99007969,
				99007974,
				99007976,
				99007977,
				99007979,
				99007985,
				99007988,
				99007991,
				99007998,
				99008001,
				99008002,
				99008003,
				99008009,
				99008011,
				99008016,
				99008019,
				99008020,
				99008021,
				99008026,
				99008027,
				99008028,
				99008032,
				99008034,
				99008036,
				99008050,
				99008051,
				99008053,
				99008057,
				99008068,
				99008069,
				99008072,
				99008073,
				99008074,
				99008079,
				99008084,
				99008085,
				99008086,
				99008087,
				99008095,
				99008097,
				99008100,
				99008110,
				99008114,
				99008118,
				99008120,
				99008124,
				99008127,
				99008128,
				99008133,
				99008136,
				99008141,
				99008145,
				99008155,
				99008158,
				99008160,
				99008161,
				99008165,
				99008166,
				99008169,
				99008178,
				99008181,
				99008182,
				99008185,
				99008189,
				99008190,
				99008196,
				99008197,
				99008198,
				99008208,
				99008212,
				99008216,
				99008218,
				99008222,
				99008223,
				99008224,
				99008225,
				99008226,
				99008227,
				99008228,
				99008229,
				99008238,
				99008240,
				99008241,
				99008244,
				99008245,
				99008252,
				99008256,
				99008257,
				99008258,
				99008259,
				99008260,
				99008267,
				99008269,
				99008271,
				99008276,
				99008277,
				99008278,
				99008279,
				99008282,
				99008284,
				99008286,
				99008288,
				99008289,
				99008293,
				99008294,
				99008296,
				99008301,
				99008306,
				99008313,
				99008314,
				99008315,
				99008316,
				99008317,
				99008319,
				99008321,
				99008322,
				99008323,
				99008327,
				99008330,
				99008331,
				99008335,
				99008339,
				99008340,
				99008351,
				99008355,
				99008356,
				99008357,
				99008361,
				99008364,
				99008365,
				99008368,
				99008371,
				99008374,
				99008376,
				99008377,
				99008381,
				99008384,
				99008386,
				99008389,
				99008391,
				99008392,
				99008394,
				99008399,
				99008400,
				99008403,
				99008404,
				99008408,
				99008412,
				99008415,
				99008416,
				99008417,
				99008420,
				99008422,
				99008425,
				99008426,
				99008434,
				99008435,
				99008445,
				99008446,
				99008447,
				99008448,
				99008458,
				99008459,
				99008460,
				99008463,
				99008469,
				99008471,
				99008472,
				99008474,
				99008481,
				99008488,
				99008491,
				99008493,
				99008498,
				99008501,
				99008506,
				99008510,
				99008511,
				99008515,
				99008516,
				99008518,
				99008520,
				99008525,
				99008527,
				99008529,
				99008533,
				99008534,
				99008535,
				99008536,
				99008539,
				99008542,
				99008548,
				99008551,
				99008554,
				99008556,
				99008560,
				99008562,
				99008563,
				99008574,
				99008577,
				99008580,
				99008586,
				99008587,
				99008588,
				99008593,
				99008595,
				99008598,
				99008602,
				99008603,
				99008604,
				99008608,
				99008610,
				99008625,
				99008627,
				99008633,
				99008640,
				99008641,
				99008647,
				99008649,
				99008653,
				99008654,
				99008655,
				99008656,
				99008657,
				99008659,
				99008664,
				99008665,
				99008666,
				99008669,
				99008674,
				99008677,
				99008679,
				99008680,
				99008683,
				99008684,
				99008687,
				99008689,
				99008690,
				99008697,
				99008699,
				99008701,
				99008704,
				99008705,
				99008706,
				99008707,
				99008710,
				99008714,
				99008716,
				99008719,
				99008720,
				99008723,
				99008725,
				99008726,
				99008727,
				99008729,
				99008732,
				99008735,
				99008741,
				99008745,
				99008747,
				99008748,
				99008749,
				99008750,
				99008751,
				99008753,
				99008758,
				99008763,
				99008764,
				99008765,
				99008767,
				99008770,
				99008772,
				99008773,
				99008777,
				99008779,
				99008781,
				99008782,
				99008783,
				99008786,
				99008787,
				99008788,
				99008791,
				99008793,
				99008797,
				99008807,
				99008809,
				99008814,
				99008815,
				99008816,
				99008817,
				99008821,
				99008822,
				99008823,
				99008829,
				99008830,
				99008834,
				99008839,
				99008850,
				99008851,
				99008857,
				99008859,
				99008860,
				99008862,
				99008864,
				99008865,
				99008867,
				99008868,
				99008869,
				99008870,
				99008874,
				99008876,
				99008879,
				99008880,
				99008881,
				99008882,
				99008883,
				99008885,
				99008887,
				99008888,
				99008889,
				99008891,
				99008892,
				99008897,
				99008898,
				99008899,
				99008901,
				99008902,
				99008903,
				99008905,
				99008906,
				99008908,
				99008909,
				99008911,
				99008912,
				99008913,
				99008914,
				99008915,
				99008916,
				99008917,
				99008921,
				99008922,
				99008923,
				99008928,
				99008929,
				99008936,
				99008939,
				99008940,
				99008941,
				99008943,
				99008944,
				99008948,
				99008949,
				99008953,
				99008955,
				99008958,
				99008965,
				99008967,
				99008969,
				99008972,
				99008973,
				99008976,
				99008981,
				99008985,
				99008987,
				99008998,
				99008999,
				99009002,
				99009004,
				99009006,
				99009013,
				99009016,
				99009018,
				99009021,
				99009023,
				99009024,
				99009025,
				99009027,
				99009029,
				99009030,
				99009033,
				99009035,
				99009037,
				99009039,
				99009041,
				99009042,
				99009043,
				99009044,
				99009047,
				99009048,
				99009050,
				99009052,
				99009053,
				99009055,
				99009057,
				99009058,
				99009059,
				99009061,
				99009065,
				99009066,
				99009070,
				99009072,
				99009073,
				99009076,
				99009082,
				99009083,
				99009085,
				99009092,
				99009093,
				99009094,
				99009095,
				99009096,
				99009098,
				99009099,
				99009101,
				99009104,
				99009108,
				99009109,
				99009110,
				99009112,
				99009113,
				99009114,
				99009115,
				99009116,
				99009118,
				99009120,
				99009127,
				99009128,
				99009129,
				99009133,
				99009134,
				99009135,
				99009136,
				99009138,
				99009140,
				99009141,
				99009142,
				99009146,
				99009148,
				99009149,
				99009153,
				99009157,
				99009158,
				99009159,
				99009160,
				99009163,
				99009166,
				99009168,
				99009169,
				99009171,
				99009177,
				99009178,
				99009179,
				99009180,
				99009182,
				99009186,
				99009188,
				99009195,
				99009198,
				99009201,
				99009202,
				99009203,
				99009204,
				99009206,
				99009207,
				99009208,
				99009210,
				99009212,
				99009216,
				99009217,
				99009219,
				99009221,
				99009224,
				99009229,
				99009231,
				99009232,
				99009233,
				99009234,
				99009237,
				99009238,
				99009240,
				99009241,
				99009243,
				99009247,
				99009251,
				99009252,
				99009254,
				99009257,
				99009262,
				99009263,
				99009264,
				99009265,
				99009266,
				99009268,
				99009270,
				99009275,
				99009279,
				99009280,
				99009285,
				99009287,
				99009289,
				99009291,
				99009293,
				99009297,
				99009298,
				99009302,
				99009304,
				99009310,
				99009311,
				99009312,
				99009317,
				99009318,
				99009319,
				99009320,
				99009321,
				99009322,
				99009324,
				99009331,
				99009333,
				99009338,
				99009339,
				99009341,
				99009344,
				99009354,
				99009357,
				99009358,
				99009360,
				99009361,
				99009362,
				99009366,
				99009368,
				99009371,
				99009372,
				99009373,
				99009375,
				99009376,
				99009379,
				99009383,
				99009384,
				99009387,
				99009388,
				99009391,
				99009394,
				99009395,
				99009399,
				99009405,
				99009406,
				99009407,
				99009410,
				99009411,
				99009412,
				99009413,
				99009414,
				99009415,
				99009416,
				99009422,
				99009423,
				99009426,
				99009428,
				99009429,
				99009430,
				99009431,
				99009436,
				99009437,
				99009440,
				99009444,
				99009447,
				99009452,
				99009453,
				99009455,
				99009456,
				99009459,
				99009461,
				99009462,
				99009464,
				99009465,
				99009466,
				99009467,
				99009469,
				99009472,
				99009473,
				99009474,
				99009475,
				99009476,
				99009477,
				99009478,
				99009480,
				99009484,
				99009487,
				99009488,
				99009490,
				99009492,
				99009495,
				99009498,
				99009500,
				99009501,
				99009503,
				99009511,
				99009514,
				99009515,
				99009517,
				99009523,
				99009527,
				99009531,
				99009533,
				99009535,
				99009536,
				99009537,
				99009538,
				99009539,
				99009541,
				99009543,
				99009545,
				99009546,
				99009547,
				99009548,
				99009550,
				99009551,
				99009560,
				99009561,
				99009562,
				99009564,
				99009565,
				99009567,
				99009568,
				99009569,
				99009571,
				99009573,
				99009574,
				99009575,
				99009577,
				99009578,
				99009579,
				99009584,
				99009585,
				99009589,
				99009592,
				99009594,
				99009596,
				99009597,
				99009598,
				99009599,
				99009600,
				99009602,
				99009605,
				99009606,
				99009607,
				99009609,
				99009611,
				99009614,
				99009615,
				99009623,
				99009624,
				99009625,
				99009627,
				99009628,
				99009631,
				99009634,
				99009638,
				99009639,
				99009644,
				99009648,
				99009649,
				99009651,
				99009652,
				99009653,
				99009658,
				99009660,
				99009662,
				99009663,
				99009664,
				99009665,
				99009668,
				99009669,
				99009672,
				99009675,
				99009676,
				99009677,
				99009679,
				99009680,
				99009681,
				99009684,
				99009686,
				99009688,
				99009689,
				99009692,
				99009693,
				99009695,
				99009696,
				99009698,
				99009699,
				99009700,
				99009701,
				99009703,
				99009706,
				99009708,
				99009710,
				99009712,
				99009716,
				99009718,
				99009720,
				99009722,
				99009727,
				99009728,
				99009729,
				99009730,
				99009732,
				99009733,
				99009734,
				99009737,
				99009738,
				99009740,
				99009741,
				99009746,
				99009747,
				99009748,
				99009749,
				99009750,
				99009751,
				99009752,
				99009753,
				99009754,
				99009756,
				99009757,
				99009758,
				99009759,
				99009760,
				99009761,
				99009763,
				99009764,
				99009768,
				99009772,
				99009774,
				99009775,
				99009779,
				99009785,
				99009786,
				99009788,
				99009789,
				99009792,
				99009793,
				99009794,
				99009795,
				99009796,
				99009797,
				99009798,
				99009799,
				99009800,
				99009802,
				99009805,
				99009806,
				99009807,
				99009808,
				99009810,
				99009811,
				99009814,
				99009815,
				99009816,
				99009817,
				99009818,
				99009819,
				99009821,
				99009822,
				99009823,
				99009824,
				99009826,
				99009828,
				99009829,
				99009830,
				99009832,
				99009833,
				99009834,
				99009839,
				99009840,
				99009841,
				99009842,
				99009843,
				99009845,
				99009846,
				99009847,
				99009848,
				99009850,
				99009851,
				99009852,
				99009853,
				99009855,
				99009856,
				99009858,
				99009859,
				99009860,
				99009864,
				99009865,
				99009868,
				99009869,
				99009870,
				99009871,
				99009872,
				99009873,
				99009876,
				99009878,
				99009879,
				99009881,
				99009883,
				99009884,
				99009885,
				99009886,
				99009887,
				99009888,
				99009889,
				99009893,
				99009895,
				99009896,
				99009897,
				99009898,
				99009902,
				99009903,
				99009904,
				99009909,
				99009910,
				99009911,
				99009914,
				99009915,
				99009917,
				99009919,
				99009920,
				99009922,
				99009923,
				99009924,
				99009925,
				99009927,
				99009928,
				99009929,
				99009930,
				99009932,
				99009933,
				99009935,
				99009936,
				99009938,
				99009939,
				99009940,
				99009941,
				99009944,
				99009945,
				99009946,
				99009947,
				99009948,
				99009950,
				99009953,
				99009955,
				99009957,
				99009959,
				99009960,
				99009961,
				99009962,
				99009963,
				99009964,
				99009965,
				99009966,
				99009967,
				99009968,
				99009969,
				99009972,
				99009973,
				99009974,
				99009975,
				99009976,
				99009977,
				99009978,
				99009980,
				99009981,
				99009983,
				99009985,
				99009987,
				99009988,
				99009989,
				99009990,
				99009991,
				99009992,
				99009993,
				99009994,
				99009995,
				99009996,
				99009997,
				99009998,
				99009999,
				99010000,
				99010001,
				99010002,
				99010003,
				99010004,
				99010007,
				99010008,
				99010009,
				99010011,
				99010012,
				99010015,
				99010016,
				99010022,
				99010025,
				99010028,
				99010030,
				99010031,
				99010032,
				99010033,
				99010034,
				99010035,
				99010037,
				99010038,
				99010039,
				99010040,
				99010041,
				99010042,
				99010043,
				99010044,
				99010045,
				99010046,
				99010047,
				99010053,
				99010054,
				99010055,
				99010057,
				99010058,
				99010059,
				99010060,
				99010064,
				99010069,
				99010071,
				99010073,
				99010074,
				99010075,
				99010077,
				99010078,
				99010079,
				99010081,
				99010082,
				99010083,
				99010087,
				99010088,
				99010089,
				99010090,
				99010091,
				99010092,
				99010093,
				99010095,
				99010096,
				99010097,
				99010098,
				99010099,
				99010100,
				99010101,
				99010102,
				99010105,
				99010106,
				99010107,
				99010108,
				99010109,
				99010110,
				99010111,
				99010112,
				99010113,
				99010114,
				99010117,
				99010118,
				99010120,
				99010121,
				99010122,
				99010124,
				99010125,
				99010126,
				99010128,
				99010129,
				99010130,
				99010131,
				99010132,
				99010133,
				99010134,
				99010135,
				99010136,
				99010137,
				99010138,
				99010139,
				99010140,
				99010141,
				99010142,
				99010144,
				99010146,
				99010147,
				99010148,
				99010149,
				99010150,
				99010151,
				99010152,
				99010154,
				99010155,
				99010156,
				99010157,
				99010158,
				99010159,
				99010160,
				99010161,
				99010162,
				99010163,
				99010164,
				99010165,
				99010167,
				99010168,
				99010169,
				99010170,
				99010171,
				99010172,
				99010173,
				99010175,
				99010176,
				99010177,
				99010178,
				99010179,
				99010180,
				99010181,
				99010183,
				99010184,
				99010185,
				99010186,
				99010187,
				99010188,
				99010189,
				99010191,
				99010192,
				99010193,
				99010194,
				99010195,
				99010196,
				99010197,
				99010199,
				99010200,
				99010201,
				99010202,
				99010204,
				99010205,
				99010206,
				99010208,
				99010209,
				99010210,
				99010211,
				99010212,
				99010213,
				99010214,
				99010215,
				99010216,
				99010217,
				99010219,
				99010220,
				99010222,
				99010223,
				99010224,
				99010225,
				99010226,
				99010227,
				99010228,
				99010229,
				99010230,
				99010231,
				99010232,
				101677770,
				117383987,
				121218520,
				127459462,
				130011153,
				131511956,
				139606862,
				144068363,
				150097440,
				151380924,
				154104258,
				156258636,
				159826257,
				171737622,
				173714703,
				179540294,
				183416405,
				184652162,
				194763922,
				215451578,
				223369706,
				227819104,
				237669767,
				239739827,
				240835459,
				240845814,
				253447610,
				254590421,
				261982681,
				264393054,
				273335890,
				274440326,
				276564333,
				284263464,
				288377808,
				292686846,
				293593523,
				308375748,
				315351548,
				316255419,
				334762665,
				347057845,
				354185913,
				356370505,
				361506519,
				364590997,
				365679010,
				376654009,
				381065059,
				382176353,
				386149285,
				386292982,
				394979878,
				396211967,
				398002761,
				399527366,
				400712573,
				403491609,
				404987119,
				405309793,
				405507722,
				405592709,
				414645273,
				420279241,
				421038446,
				431502563,
				433894153,
				434160213,
				434243723,
				443043624,
				444404720,
				446531551,
				448511760,
				457703173,
				459486691,
				463833192,
				466862619,
				473668485,
				477769446,
				480218736,
				486420224,
				487280191,
				495729389,
				495752022,
				498125261,
				499005583,
				501163976,
				501588784,
				505495351,
				527015334,
				529564179,
				530276089,
				530394031,
				531048647,
				534416112,
				536867108,
				538572103,
				541437166,
				545770730,
				548639681,
				550516881,
				551692893,
				555959926,
				557004256,
				565148621,
				567550367,
				570124878,
				575461427,
				579558963,
				581235492,
				582539665,
				583204357,
				588312332,
				596408142,
				596752585,
				601696983,
				607212516,
				608839271,
				614765194,
				621338554,
				621423934,
				628991027,
				655846070,
				657191413,
				658977196,
				664167896,
				665776658,
				666300228,
				671935258,
				672901401,
				673381830,
				677188138,
				678900003,
				679584932,
				694867971,
				696361139,
				701459600,
				703430781,
				707482380,
				711204655,
				716050598,
				719960272,
				723015129,
				726217292,
				735243183,
				741557221,
				743826619,
				748008253,
				751434080,
				752401026,
				758025458,
				760953291,
				763889495,
				764651116,
				765796221,
				772922578,
				776692692,
				781059915,
				785719634,
				807486236,
				817618922,
				819696659,
				822746991,
				824518128,
				828884805,
				832386547,
				845358580,
				854214958,
				864733958,
				877811706,
				878776074,
				880013768,
				883289363,
				894436655,
				897877797,
				898617242,
				902819350,
				903584172,
				905861359,
				906457582,
				906957604,
				912567626,
				917526329,
				922190997,
				927292903,
				927761486,
				933731581,
				935962111,
				936887062,
				937872513,
				937904219,
				939740899,
				949658937,
				956618410,
				960513040,
				961192363,
				969064285,
				969357963,
				970210493,
				975499322,
				982284363,
				994621555,
				1002884793,
				1006830534,
				1009247549,
				1009585407,
				1009843019,
				1010899803,
				1014190948,
				1017570423,
				1020010775,
				1025783526,
				1028876240,
				1035358987,
				1039527124,
				1041482450,
				1041918556,
				1042504553,
				1046448680,
				1047487587,
				1054925052,
				1060992628,
				1071023976,
				1081578607,
				1086308227,
				1086877681,
				1099063355,
				1110172951,
				1119479143,
				1125500255,
				1133052404,
				1133932561,
				1136157539,
				1141440417,
				1147488332,
				1153795557,
				1163497953,
				1167803747,
				1170757804,
				1179850400,
				1182801433,
				1186465684,
				1189243859,
				1194892549,
				1197953359,
				1198020766,
				1198164123,
				1199535134,
				1203105975,
				1208295500,
				1212162615,
				1220055227,
				1220174199,
				1220922756,
				1228472388,
				1230815227,
				1230969720,
				1237151392,
				1254379905,
				1258727717,
				1267893400,
				1269363671,
				1271973829,
				1286081470,
				1294094452,
				1296022029,
				1301367357,
				1307452790,
				1310975756,
				1312931530,
				1324057257,
				1348760979,
				1354830081,
				1360444521,
				1377988574,
				1385163836,
				1393073050,
				1394403348,
				1399057309,
				1401461156,
				1406015925,
				1409089077,
				1411711376,
				1433386454,
				1438160193,
				1439416485,
				1441609042,
				1443952531,
				1445778095,
				1449737488,
				1453325109,
				1459096720,
				1459132996,
				1463354890,
				1463419562,
				1466346044,
				1467181086,
				1468580260,
				1470696988,
				1473825497,
				1475695446,
				1478762529,
				1484269300,
				1485500044,
				1486306340,
				1489047551,
				1491607438,
				1496500070,
				1498078438,
				1498727871,
				1501613107,
				1510264505,
				1511269779,
				1517125351,
				1518185742,
				1522788853,
				1522842604,
				1530983307,
				1534445160,
				1537406862,
				1538108032,
				1538382401,
				1538759362,
				1548582972,
				1555742183,
				1556969942,
				1559868580,
				1562449472,
				1567141329,
				1568020072,
				1590772691,
				1597935035,
				1603255562,
				1603281980,
				1606329389,
				1609313558,
				1609780791,
				1610529782,
				1614483120,
				1621208577,
				1622450748,
				1641039452,
				1641160483,
				1644918530,
				1645234854,
				1645363239,
				1652187896,
				1653205733,
				1657542160,
				1658478828,
				1660897578,
				1667318335,
				1675661691,
				1677336111,
				1678330850,
				1680888152,
				1681527727,
				1683694957,
				1691647675,
				1692501429,
				1695357456,
				1698811717,
				1699714763,
				1700335011,
				1708058043,
				1709829868,
				1711636893,
				1712346130,
				1714920227,
				1717045815,
				1724591490,
				1727758877,
				1728396456,
				1733643802,
				1742306959,
				1744471691,
				1747592302,
				1752392266,
				1767629342,
				1768037588,
				1778087706,
				1778325832,
				1783407081,
				1785470636,
				1793718161,
				1794112889,
				1803104011,
				1803519277,
				1819478397,
				1827461711,
				1835092947,
				1838908040,
				1839636692,
				1841150447,
				1845350470,
				1850327045,
				1851228421,
				1857454335,
				1858184168,
				1872065019,
				1874353004,
				1875292563,
				1884239677,
				1884595530,
				1889367927,
				1890405927,
				1900696668,
				1903500835,
				1904739487,
				1911932230,
				1912584866,
				1933713482,
				1941616664,
				1952770063,
				1958196311,
				1962631059,
				1964395545,
				1966049571,
				1985435220,
				1988009450,
				1988009451,
				2004363804,
				2008100782,
				2008665267,
				2016585042,
				2018896300,
				2029809708,
				2031941852,
				2041275681,
				2049763943,
				2057458625,
				2077084692
			]
		};
	},
	async mounted() {
		console.log("MOUNTED");
		await this.getLatest();
		// await this.setVulnerable();
		// await this.getSolarSystemData();
		await this.setStructureTypes();
	},
	methods: {
		async getLatest() {
			this.message = "Getting Latest Data";
			this.loading = true;
			this.response = await axios.get(
				"https://esi.evetech.net/dev/sovereignty/structures/?datasource=tranquility"
			);
			this.info = this.response.data;
			this.info_length = this.info.length;
			this.loading = false;
		},
		async getAliianceNames() {
			let l = this.all_alliance_ids.length;
			var start = 0;
			var end = 0;
			var loop = Math.round(l / 1000);
			var lastloop = loop * 1000;
			var lastloopend = loop * 1000 + (l % 1000);
			console.log("lastloop:" + lastloop + "-" + lastloopend);
			for (var x = 0; x < loop; x++) {
				this.alliance_fetch = [];
				if (x == 0) {
					let end = 999;
					for (var s = start; s <= end; s++) {
						this.alliance_fetch.push(this.all_alliance_ids[s]);
					}
					this.alliance_message = "Getting Alliance Names " + start + "/" + l;
					const alliance_data_response = await axios.post(
						"https://esi.evetech.net/latest/universe/names/?datasource=tranquility",
						this.alliance_fetch
					);
					for (var s = start; s <= end; s++) {
						this.alliance_data.push(alliance_data_response.data[s]);
					}
				}
				if (x > 0) {
					let start = 1000 * x;
					let end = 1000 * x + 999;
					for (var s = start; s <= end; s++) {
						this.alliance_fetch.push(this.all_alliance_ids[s]);
					}
					this.alliance_message = "Getting Alliance Names " + start + "/" + l;
					const alliance_data_response = await axios.post(
						"https://esi.evetech.net/latest/universe/names/?datasource=tranquility",
						this.alliance_fetch
					);
					for (var s = start; s <= end; s++) {
						this.alliance_data.push(alliance_data_response.data[s]);
					}
					this.alliance_message = "Getting Alliance Names " + end + "/" + l;
				}
			}
			// LAST LOOP
			this.alliance_fetch = [];
			for (var x = lastloop; x < lastloopend; x++) {
				this.alliance_fetch.push(this.all_alliance_ids[x]);
				this.alliance_message = "Getting Alliance Names " + start + "/" + l;
			}
			const alliance_data_response = await axios.post(
				"https://esi.evetech.net/latest/universe/names/?datasource=tranquility",
				this.alliance_fetch
			);
			for (var s = lastloop; s <= lastloopend; s++) {
				this.alliance_data.push(alliance_data_response.data[s]);
			}
			this.alliance_message = "Getting Alliance Names " + lastloopend + "/" + l;
		},
		async saveAllianceData() {
			const emptyAlliancesTable = await axios.post("/emptyAlliancesTable");
			let l = this.alliance_data.length;
			let c = 1;
			this.saving_alliances_message = "Saving Alliance Names 0/" + l;
			for (var i = 0; i < l; i++) {
				let fd = new FormData();
				fd.append("id", this.all_alliance_ids[i]);
				fd.append("name", this.alliance_data[i].name);
				fd.append("ticker", this.alliance_data[i].ticker);
				const alliance_names_response = await axios.post(
					"/saveAllianceData",
					fd
				);
				this.saving_alliances_message = "Saving Alliance Names " + c + "/" + l;
				c++;
				// console.log(this.alliance_data[i]);
			}
		},
		// async setVulnerable() {
		// 	this.message = "Getting Alliance Names 0/" + this.info_length;
		// 	this.getNamesDone = false;
		// 	let l = this.info.length;
		// 	for (var i = 0; i < l; i++) {
		// 		this.info[i].key =
		// 			this.info[i].alliance_id +
		// 			this.info[i].solar_system_id +
		// 			this.info[i].structure_id;
		// 		const alliance_response = await axios.get(
		// 			"https://esi.evetech.net/latest/alliances/" +
		// 				this.info[i].alliance_id +
		// 				"/?datasource=tranquility"
		// 		);
		// 		this.alliance_response = alliance_response.data;
		// 		this.info[i].alliance_name = this.alliance_response.name;
		// 		this.alliance_data.push(this.alliance_response);
		// 		this.alliance_data_length = this.alliance_data.length;
		// 		this.message =
		// 			"Getting Alliance Names " +
		// 			this.alliance_data_length +
		// 			"/" +
		// 			this.info_length;
		// 	}
		// 	this.getNamesDone = true;
		// },
		async getSolarSystemData() {
			this.message = "Getting Solar System Names 0/" + this.info_length;
			this.getNamesDone = false;
			let l = this.info.length;
			for (var i = 0; i < l; i++) {
				const systems_response = await axios.get(
					"https://esi.evetech.net/latest/universe/systems/" +
						this.info[i].solar_system_id +
						"/?datasource=tranquility"
				);
				this.systems_response = systems_response.data;
				this.info[i].system_name = this.systems_response.name;
				this.system_data.push(this.systems_response);
				this.system_data_length = this.system_data.length;
				this.message =
					"Getting Solar System Names " +
					this.system_data_length +
					"/" +
					this.info_length;
			}
			this.getNamesDone = true;
			this.message = "Done";
		},
		async setStructureTypes() {
			this.message = "Getting Solar System Names 0/" + this.info_length;
			this.getNamesDone = false;
			let l = this.info.length;
			for (var i = 0; i < l; i++) {
				if (this.info[i].structure_type_id == "32226") {
					this.info[i].structure_type_name = "TCU";
				}
				if (this.info[i].structure_type_id == "32458") {
					this.info[i].structure_type_name = "IHUB";
				}
			}
			this.getNamesDone = true;
			this.message = "Done";
		},
		saveLatest() {
			this.saving = true;
			this.loading = true;
			axios.post("/saveLatest", this.response).then(res => {
				this.saving = false;
				this.loading = false;
			});
		},
		startCounterDown(item) {
			var today = new Date();
			var date =
				today.getFullYear() +
				"-" +
				(today.getMonth() + 1) +
				"-" +
				today.getDate();
			var time =
				today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
			var dateTime = date + " " + time;
			var a = moment(item.vulnerable_start_time);
			var b = moment(dateTime);
			return a.diff(b);
		},
		endCounterDown(item) {
			var today = new Date();
			var date =
				today.getFullYear() +
				"-" +
				(today.getMonth() + 1) +
				"-" +
				today.getDate();
			var time =
				today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
			var dateTime = date + " " + time;
			var a = moment(item.vulnerable_start_time);
			var b = moment(dateTime);
			return b.diff(a);
		},
		fromNowStart(item) {
			return moment(item.vulnerable_start_time);
		},
		fromNowEnd(item) {
			return moment(item.vulnerable_end_time);
		}
	},
	computed: {}
};
</script>
